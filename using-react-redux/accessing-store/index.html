<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-130598673-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="React Redux ä¸­æ–‡æ–‡æ¡£" href="/opensearch.xml">
<script src="/scripts/sidebarScroll.js"></script>
<script src="/scripts/codeblock.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js" async></script><title data-react-helmet="true">è®¿é—® Store | React Redux ä¸­æ–‡æ–‡æ¡£</title><meta data-react-helmet="true" property="og:image" content="https://cn.react-redux.js.org/img/redux-logo-landscape.png"><meta data-react-helmet="true" name="twitter:image" content="https://cn.react-redux.js.org/img/redux-logo-landscape.png"><meta data-react-helmet="true" property="og:url" content="https://cn.react-redux.js.org/using-react-redux/accessing-store"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="è®¿é—® Store | React Redux ä¸­æ–‡æ–‡æ¡£"><meta data-react-helmet="true" name="description" content="ä½¿ç”¨æŒ‡å— &gt; è®¿é—® Store: techniques for getting the store in your components"><meta data-react-helmet="true" property="og:description" content="ä½¿ç”¨æŒ‡å— &gt; è®¿é—® Store: techniques for getting the store in your components"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cn.react-redux.js.org/using-react-redux/accessing-store"><link data-react-helmet="true" rel="alternate" href="https://cn.react-redux.js.org/using-react-redux/accessing-store" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cn.react-redux.js.org/using-react-redux/accessing-store" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.e0ae6fec.css">
<link rel="preload" href="/assets/js/runtime~main.7d1c5dea.js" as="script">
<link rel="preload" href="/assets/js/main.68fd555e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">React Redux ä¸­æ–‡æ–‡æ¡£</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction/getting-started">å…¥é—¨</a><a class="navbar__item navbar__link" href="/tutorials/quick-start">æ•™ç¨‹</a><a class="navbar__item navbar__link" href="/using-react-redux/connect-mapstate">ä½¿ç”¨æŒ‡å—</a><a class="navbar__item navbar__link" href="/api/hooks">API</a><a href="https://www.github.com/nefe/react-redux-cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/introduction/getting-started#help-and-discussion">å¸®åŠ©</a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">ç®€ä»‹</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/introduction/getting-started">å…¥é—¨ React Redux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/introduction/why-use-react-redux">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ï¼Ÿ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">æ•™ç¨‹</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/quick-start">å¿«é€Ÿå…¥é—¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/typescript-quick-start">TypeScript å¿«é€Ÿå…¥é—¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/connect">æ•™ç¨‹ï¼šä½¿ç”¨ connect API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">ä½¿ç”¨æŒ‡å—</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/using-react-redux/usage-with-typescript">ä¸ TypeScript ä¸€èµ·ä½¿ç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/using-react-redux/connect-mapstate">Connect: ä½¿ç”¨ mapStateToProps è·å–æ•°æ®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/using-react-redux/connect-mapdispatch">Connect: ä½¿ç”¨ mapDispatchToProps Dispatch Action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/using-react-redux/accessing-store">è®¿é—® Store</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API æ–‡æ¡£</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">é¿å‘æŒ‡å—</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>è®¿é—® Store</h1></header><p>React Redux æä¾›çš„ API å…è®¸ä½ çš„ç»„ä»¶ dispatch actions å¹¶ä» store ä¸­è®¢é˜…æ•°æ®æ›´æ–°ã€‚</p><p>ä½œä¸ºå…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼ŒReact Redux æŠ½è±¡å‡ºä½ æ­£åœ¨ä½¿ç”¨å“ªä¸ª store ä»¥åŠå¦‚ä½•å¤„ç† store äº¤äº’çš„ç¡®åˆ‡ç»†èŠ‚ã€‚åœ¨å…¸å‹ç”¨æ³•ä¸­ï¼Œä½ è‡ªå·±çš„ç»„ä»¶æ°¸è¿œä¸éœ€è¦å…³å¿ƒè¿™äº›ç»†èŠ‚ï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šç›´æ¥å¼•ç”¨ storeã€‚ React Redux è¿˜åœ¨å†…éƒ¨å¤„ç† store å’Œ state æ˜¯å¦‚ä½•ä¼ æ’­åˆ°è¿æ¥ç»„ä»¶çš„ç»†èŠ‚ï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹æŒ‰é¢„æœŸå·¥ä½œã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨æŸäº›ç”¨ä¾‹ä¸­ï¼Œä½ å¯èƒ½éœ€è¦è‡ªå®šä¹‰ store å’Œ state è¿æ¥åˆ°ç»„ä»¶çš„è¿™éƒ¨åˆ†é€»è¾‘ï¼Œæˆ–ç›´æ¥è®¿é—® storeã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œçš„ç¤ºä¾‹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ç†è§£ä¸Šä¸‹æ–‡ç”¨æ³•">ç†è§£ä¸Šä¸‹æ–‡ç”¨æ³•<a aria-hidden="true" class="hash-link" href="#ç†è§£ä¸Šä¸‹æ–‡ç”¨æ³•" title="Direct link to heading">â€‹</a></h2><p>åœ¨å†…éƒ¨ï¼ŒReact Redux ä½¿ç”¨ <a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener noreferrer">React&#x27;s &quot;context&quot; feature</a> ä½¿æ·±åº¦åµŒå¥—çš„è¿æ¥ç»„ä»¶å¯ä»¥è®¿é—® Redux storeã€‚ä» React Redux ç‰ˆæœ¬ 6 å¼€å§‹ï¼Œè¿™é€šå¸¸ç”± <code>React.createContext()</code> ç”Ÿæˆçš„å•ä¸ªé»˜è®¤ä¸Šä¸‹æ–‡å¯¹è±¡å®ä¾‹å¤„ç†ï¼Œç§°ä¸º <code>ReactReduxContext</code> ã€‚</p><p>React Redux çš„ <code>&lt;Provider&gt;</code> ç»„ä»¶ä½¿ç”¨ <code>&lt;ReactReduxContext.Provider&gt;</code> å°† Redux store å’Œå½“å‰ store state æ”¾å…¥ä¸Šä¸‹æ–‡ä¸­ï¼Œè€Œ <code>connect</code> ä½¿ç”¨ <code>&lt;ReactReduxContext.Consumer&gt;</code> è¯»å–è¿™äº›å€¼å¹¶å¤„ç†æ›´æ–°ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä½¿ç”¨-usestore-hook">ä½¿ç”¨ <code>useStore</code> Hook<a aria-hidden="true" class="hash-link" href="#ä½¿ç”¨-usestore-hook" title="Direct link to heading">â€‹</a></h2><p><a href="/api/hooks#useStore"><code>useStore</code> hook</a> ä»é»˜è®¤çš„ <code>ReactReduxContext</code> è¿”å›å½“å‰çš„ store å®ä¾‹ã€‚å¦‚æœä½ ç¡®å®éœ€è¦è®¿é—® storeï¼Œè¿™æ˜¯æ¨èçš„æ–¹æ³•ã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡">æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡<a aria-hidden="true" class="hash-link" href="#æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡" title="Direct link to heading">â€‹</a></h2><p>ä½ å¯ä»¥æä¾›è‡ªå·±çš„è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å®ä¾‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ React Redux ä¸­çš„é»˜è®¤ä¸Šä¸‹æ–‡å®ä¾‹ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#f8f8f2"><span class="token tag punctuation" style="color:#F8F8F2">&lt;</span><span class="token tag class-name" style="color:#F92672">Provider</span><span class="token tag" style="color:#F92672"> </span><span class="token tag attr-name" style="color:#a6e22e">context</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#F8F8F2">=</span><span class="token tag script language-javascript punctuation" style="color:#F8F8F2">{</span><span class="token tag script language-javascript maybe-class-name" style="color:#F92672">MyContext</span><span class="token tag script language-javascript punctuation" style="color:#F8F8F2">}</span><span class="token tag" style="color:#F92672"> </span><span class="token tag attr-name" style="color:#a6e22e">store</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#F8F8F2">=</span><span class="token tag script language-javascript punctuation" style="color:#F8F8F2">{</span><span class="token tag script language-javascript" style="color:#F92672">store</span><span class="token tag script language-javascript punctuation" style="color:#F8F8F2">}</span><span class="token tag punctuation" style="color:#F8F8F2">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#F8F8F2">&lt;</span><span class="token tag class-name" style="color:#F92672">App</span><span class="token tag" style="color:#F92672"> </span><span class="token tag punctuation" style="color:#F8F8F2">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#F8F8F2">&lt;/</span><span class="token tag class-name" style="color:#F92672">Provider</span><span class="token tag punctuation" style="color:#F8F8F2">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœä½ æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ï¼ŒReact Redux å°†ä½¿ç”¨è¯¥ä¸Šä¸‹æ–‡å®ä¾‹ï¼Œè€Œä¸æ˜¯é»˜è®¤åˆ›å»ºå’Œå¯¼å‡ºçš„ä¸Šä¸‹æ–‡å®ä¾‹ã€‚</p><p>åœ¨å‘ <code>&lt;Provider /&gt;</code> æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡åï¼Œä½ éœ€è¦å°†æ­¤ä¸Šä¸‹æ–‡å®ä¾‹æä¾›ç»™æ‰€æœ‰æœŸæœ›è¿æ¥åˆ°åŒä¸€ store çš„è¿æ¥ç»„ä»¶ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// ä½ å¯ä»¥å°†ä¸Šä¸‹æ–‡ä½œä¸ºå¯é€‰é¡¹ä¼ é€’ç»™ connect</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">default</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  mapState</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  mapDispatch</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#F92672">context</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">MyContext</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// æˆ–è€…ï¼Œæ­£å¸¸è°ƒç”¨ connect æ¥å¼€å§‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token maybe-class-name">ConnectedComponent</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  mapState</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  mapDispatch</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// ä¹‹åï¼Œå°†è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ä½œä¸º prop ä¼ é€’ç»™è¿æ¥çš„ç»„ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">ConnectedComponent</span><span class="token plain"> context</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token maybe-class-name">MyContext</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å½“ React Redux åœ¨å®ƒæ­£åœ¨æŸ¥æ‰¾çš„ä¸Šä¸‹æ–‡ä¸­æ‰¾ä¸åˆ° store æ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹ runtime errorã€‚ä¾‹å¦‚ï¼š</p><ul><li>ä½ å‘ <code>&lt;Provider /&gt;</code> æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰ä¸Šä¸‹æ–‡å®ä¾‹ï¼Œä½†æ²¡æœ‰å‘è¿æ¥çš„ç»„ä»¶æä¾›ç›¸åŒçš„å®ä¾‹ï¼ˆæˆ–æ²¡æœ‰æä¾›ä»»ä½•å®ä¾‹ï¼‰ã€‚</li><li>ä½ ä¸ºè¿æ¥çš„ç»„ä»¶æä¾›äº†è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ï¼Œä½†æ²¡æœ‰å‘ <code>&lt;Provider /&gt;</code> æä¾›ç›¸åŒçš„å®ä¾‹ï¼ˆæˆ–æ²¡æœ‰æä¾›ä»»ä½•å®ä¾‹ï¼‰ã€‚</li></ul><blockquote><p>Invariant Violation</p><p>Could not find &quot;store&quot; in the context of &quot;Connect(MyComponent)&quot;. Either wrap the root component in a <code>&lt;Provider&gt;</code>, or pass a custom React context provider to <code>&lt;Provider&gt;</code> and the corresponding React context consumer to Connect(Todo) in connect options.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å’Œ-hooks-api">è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å’Œ hooks API<a aria-hidden="true" class="hash-link" href="#è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å’Œ-hooks-api" title="Direct link to heading">â€‹</a></h3><p>è¦é€šè¿‡ hooks API è®¿é—®è‡ªå®šä¹‰ä¸Šä¸‹æ–‡ï¼Œä½ å¯ä»¥é€šè¿‡ <a href="/api/hooks#custom-context">hook creator functions</a> åˆ›å»ºè‡ªå®šä¹‰ hooksã€‚</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¤šä¸ª-stores">å¤šä¸ª Stores<a aria-hidden="true" class="hash-link" href="#å¤šä¸ª-stores" title="Direct link to heading">â€‹</a></h2><p><a href="https://redux.js.org/api/store#a-note-for-flux-users" target="_blank" rel="noopener noreferrer">Redux was designed to use a single store</a>.
ä½†æ˜¯ï¼Œå¦‚æœä½ ä¸å¯é¿å…åœ°éœ€è¦ä½¿ç”¨å¤šä¸ª storeï¼Œé‚£ä¹ˆä» v6 å¼€å§‹ï¼Œä½ å¯ä»¥é€šè¿‡æä¾›ï¼ˆå¤šä¸ªï¼‰è‡ªå®šä¹‰ä¸Šä¸‹æ–‡æ¥å®ç°ã€‚
è¿™ä¹Ÿæä¾›äº† store çš„è‡ªç„¶éš”ç¦»ï¼Œå› ä¸ºå®ƒä»¬å­˜åœ¨äºå•ç‹¬çš„ä¸Šä¸‹æ–‡å®ä¾‹ä¸­ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// ä¸€ä¸ªåŸç”Ÿä¾‹å­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token maybe-class-name">ContextA</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">createContext</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token maybe-class-name">ContextB</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">createContext</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// å‡è®¾ reducerA å’Œ reducerB æ˜¯åˆé€‚çš„ reducer å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> storeA </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">createStore</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">reducerA</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> storeB </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">createStore</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">reducerB</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// å°†ä¸Šä¸‹æ–‡å®ä¾‹æä¾›ç»™ Provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#E6D874">App</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">Provider</span><span class="token plain"> store</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain">storeA</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> context</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token maybe-class-name">ContextA</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">Provider</span><span class="token plain"> store</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain">storeB</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> context</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token maybe-class-name">ContextB</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">RootModule</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token operator" style="color:#F8F8F2">/</span><span class="token maybe-class-name">Provider</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token operator" style="color:#F8F8F2">/</span><span class="token maybe-class-name">Provider</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// è·å–è¿æ¥ç»„ä»¶çš„å¯¹åº” store</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// ä½ éœ€è¦ä½¿ç”¨æ­£ç¡®çš„ä¸Šä¸‹æ–‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">mapStateA</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#F92672">context</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">ContextA</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">MyComponentA</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// ä½ ä¹Ÿå¯ä»¥å°†å¤‡ç”¨ä¸Šä¸‹æ–‡å®ä¾‹ç›´æ¥ä¼ é€’ç»™è¿æ¥çš„ç»„ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">ConnectedMyComponentA</span><span class="token plain"> context</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token maybe-class-name">ContextA</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// å¯ä»¥é“¾å¼ä½¿ç”¨ connect()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒMyComponent å°†ä»ä¸¤ä¸ª store æ¥æ”¶åˆå¹¶çš„ props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#E6D874">compose</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">mapStateA</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#F92672">context</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">ContextA</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">mapStateB</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#F92672">null</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#F92672">context</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token maybe-class-name">ContextB</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">MyComponent</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ç›´æ¥ä½¿ç”¨-reactreduxcontext">ç›´æ¥ä½¿ç”¨ <code>ReactReduxContext</code><a aria-hidden="true" class="hash-link" href="#ç›´æ¥ä½¿ç”¨-reactreduxcontext" title="Direct link to heading">â€‹</a></h2><p>åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦ç›´æ¥åœ¨è‡ªå·±çš„ç»„ä»¶ä¸­è®¿é—® Redux storeã€‚ä½ å¯ä»¥é€šè¿‡æ¸²æŸ“è‡ªå®šä¹‰ä¸Šä¸‹æ–‡çš„ Consumerï¼Œå¹¶ä»ä¸Šä¸‹æ–‡å€¼è®¿é—® <code>store</code> å­—æ®µæ¥å®Œæˆã€‚</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>æ³¨æ„</h5></div><div class="admonition-content"><p>è¿™ <strong>ä¸è¢«è§†ä¸º React Redux å…¬å…± API çš„ä¸€éƒ¨åˆ†ï¼Œå¯èƒ½ä¼šåœ¨æ²¡æœ‰é€šçŸ¥çš„æƒ…å†µä¸‹ä¸­æ–­</strong>ã€‚æˆ‘ä»¬ç¡®å®è®¤è¯†åˆ°ç¤¾åŒºåœ¨æœ‰éœ€è¦çš„åœ°æ–¹æä¾›ç”¨ä¾‹ï¼Œå¹¶å°†å°è¯•ä½¿ç”¨æˆ·èƒ½å¤Ÿåœ¨ React Redux ä¹‹ä¸Šæ„å»ºé¢å¤–çš„åŠŸèƒ½ï¼Œä½†æˆ‘ä»¬å¯¹ä¸Šä¸‹æ–‡çš„ç‰¹å®šä½¿ç”¨è¢«è®¤ä¸ºæ˜¯å®ç°ç»†èŠ‚ã€‚
å¦‚æœä½ æœ‰å½“å‰ API æœªå……åˆ†æ¶µç›–çš„å…¶ä»–ç”¨ä¾‹ï¼Œè¯·æäº¤é—®é¢˜ä»¥è®¨è®ºå¯èƒ½çš„ API æ”¹è¿›ã€‚</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_rtdJ thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#f8f8f2"><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#F8F8F2">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ReactReduxContext</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;react-redux&#x27;</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// &lt;Provider&gt; å†…éƒ¨çš„æŸå¤„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#E6D874">MyConnectedComponent</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// é€šè¿‡ `useContext` hook è®¿é—® store</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> store </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">useContext</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">ReactReduxContext</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// æˆ–è€…ï¼Œä½¿ç”¨ä¸Šä¸‹æ–‡çš„æ¸²æŸ“ props å½¢å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">/*</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">  return (</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">    &lt;ReactReduxContext.Consumer&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">      {({ store }) =&gt; {</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">        // do something useful with the store, like passing it to a child</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">        // component where it can be used in lifecycle methods</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">      }}</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">    &lt;/ReactReduxContext.Consumer&gt;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">  )</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">  */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="æ›´å¤šèµ„æº">æ›´å¤šèµ„æº<a aria-hidden="true" class="hash-link" href="#æ›´å¤šèµ„æº" title="Direct link to heading">â€‹</a></h2><ul><li>CodeSandbox ç¤ºä¾‹: <a href="https://codesandbox.io/s/92pm9n2kl4" target="_blank" rel="noopener noreferrer">A reading list app with theme using a separate store</a>ï¼Œé€šè¿‡æä¾›ï¼ˆå¤šä¸ªï¼‰è‡ªå®šä¹‰ä¸Šä¸‹æ–‡æ¥å®ç°</li><li>ç›¸å…³çš„ issues:<ul><li><a href="https://github.com/reduxjs/react-redux/issues/1132" target="_blank" rel="noopener noreferrer">#1132: Update docs for using a different store key</a></li><li><a href="https://github.com/reduxjs/react-redux/issues/1126" target="_blank" rel="noopener noreferrer">#1126: <code>&lt;Provider&gt;</code> misses state changes that occur between when its constructor runs and when it mounts</a></li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/reduxjs/react-redux/edit/master/website/../docs/using-react-redux/accessing-store.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-10-12T08:17:16.000Z">10/12/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/using-react-redux/connect-mapdispatch"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Connect: ä½¿ç”¨ mapDispatchToProps Dispatch Action</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/api/provider"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Provider<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ç†è§£ä¸Šä¸‹æ–‡ç”¨æ³•" class="table-of-contents__link toc-highlight">ç†è§£ä¸Šä¸‹æ–‡ç”¨æ³•</a></li><li><a href="#ä½¿ç”¨-usestore-hook" class="table-of-contents__link toc-highlight">ä½¿ç”¨ <code>useStore</code> Hook</a></li><li><a href="#æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡" class="table-of-contents__link toc-highlight">æä¾›è‡ªå®šä¹‰ä¸Šä¸‹æ–‡</a><ul><li><a href="#è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å’Œ-hooks-api" class="table-of-contents__link toc-highlight">è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å’Œ hooks API</a></li></ul></li><li><a href="#å¤šä¸ª-stores" class="table-of-contents__link toc-highlight">å¤šä¸ª Stores</a></li><li><a href="#ç›´æ¥ä½¿ç”¨-reactreduxcontext" class="table-of-contents__link toc-highlight">ç›´æ¥ä½¿ç”¨ <code>ReactReduxContext</code></a></li><li><a href="#æ›´å¤šèµ„æº" class="table-of-contents__link toc-highlight">æ›´å¤šèµ„æº</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started">å…¥é—¨</a></li><li class="footer__item"><a class="footer__link-item" href="/using-react-redux/connect-mapstate">ä½¿ç”¨æŒ‡å—</a></li><li class="footer__item"><a class="footer__link-item" href="/api/hooks">API æ–‡æ¡£</a></li><li class="footer__item"><a class="footer__link-item" href="/troubleshooting">é¿å‘æŒ‡å—</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/0ZcbPKXt5bZ6au5t" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/reduxjs/react-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item">
                <a class="github-button" href="https://github.com/reduxjs/react-redux" data-icon="octicon-star" data-count-href="/reduxjs/react-redux/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">
                  Star
                </a>
              </li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/redux_white.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/redux_white.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright (c) 2015-present Dan Abramov and the Redux documentation authors.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7d1c5dea.js"></script>
<script src="/assets/js/main.68fd555e.js"></script>
</body>
</html>